@tailwind base;
@tailwind components;
@tailwind utilities;

/* Prism theme for code blocks */
@import url('https://cdn.jsdelivr.net/npm/prism-themes/themes/prism-vsc-dark-plus.min.css');

:root {
  --bg: 255 255 255;
  --fg: 17 24 39;
  --brand-1: 124 58 237; /* primary violet-600 */
  --brand-2: 6 182 212; /* secondary cyan-500 */
  --ring: 124 58 237;
}

@media (prefers-color-scheme: dark) {
  :root {
    --bg: 17 24 39;
    --fg: 229 231 235;
    --brand-1: 167 139 250; /* violet-400 */
    --brand-2: 34 211 238; /* cyan-400 */
  }
}

html,
body,
#__next {
  height: 100%;
}

body {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background:
    radial-gradient(
      900px 500px at 10% -10%,
      rgba(var(--brand-1), 0.07),
      transparent
    ),
    radial-gradient(
      900px 500px at 90% -10%,
      rgba(var(--brand-2), 0.06),
      transparent
    ),
    conic-gradient(
      from 120deg at 50% -10%,
      rgba(124, 58, 237, 0.05),
      rgba(6, 182, 212, 0.05),
      transparent
    ),
    linear-gradient(180deg, rgba(0, 0, 0, 0.02), rgba(0, 0, 0, 0)),
    rgb(var(--bg));
  color: rgb(var(--fg));
}

::selection {
  background: rgba(var(--brand-1), 0.2);
}

.prose img {
  border-radius: 0.5rem;
}

/* Smooth focus ring */
:where(a, button, input, textarea, select):focus-visible {
  outline: none;
  box-shadow: 0 0 0 3px rgba(var(--ring), 0.28);
  border-color: color-mix(
    in oklab,
    rgb(var(--fg)) 80%,
    rgba(var(--brand-1), 1) 20%
  );
}

/* Headings subtle tracking */
h1,
h2,
h3,
h4 {
  letter-spacing: -0.01em;
}

/* (Card helper removed; inline utility classes are used to avoid @apply) */

/* Hide scrollbars globally while allowing scroll */
.no-scrollbar {
  -ms-overflow-style: none; /* IE and Edge */
  scrollbar-width: none; /* Firefox */
}
.no-scrollbar::-webkit-scrollbar {
  display: none; /* Safari and Chrome */
}

/* Ensure viewport scrollbars are hidden regardless of class */
html,
body {
  -ms-overflow-style: none; /* IE and Edge */
  scrollbar-width: none; /* Firefox */
}
html::-webkit-scrollbar,
body::-webkit-scrollbar {
  width: 0 !important;
  height: 0 !important;
}

/* Reusable component classes for cohesive UI */
@layer components {
  .card {
    @apply shadow-soft relative overflow-hidden rounded-2xl border border-slate-200/60 bg-white/70 p-4 ring-1 ring-black/5 backdrop-blur-sm dark:border-slate-700/50 dark:bg-slate-900/60;
  }
  .card-header-line::before {
    content: '';
    @apply pointer-events-none absolute inset-x-0 top-0 h-px bg-gradient-to-r from-primary/30 via-secondary/30 to-primary/30;
  }
  .btn {
    @apply inline-flex items-center justify-center rounded-md px-3 py-2 text-sm font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40;
  }
  .btn-primary {
    @apply btn shadow-soft bg-primary text-white hover:brightness-110;
  }
  .btn-ghost {
    @apply btn border border-slate-300 bg-white/80 text-slate-800 hover:bg-slate-50 dark:border-slate-700 dark:bg-slate-900/70 dark:text-slate-100 dark:hover:bg-slate-800;
  }
  .input {
    @apply w-full rounded-lg border border-slate-300 bg-white/80 px-3 py-2 shadow-inner outline-none ring-primary/30 focus:ring dark:border-slate-700 dark:bg-slate-800/70;
  }
  .headline {
    @apply font-display text-4xl font-extrabold tracking-tight sm:text-5xl;
  }
  .subtle {
    @apply text-slate-600 dark:text-slate-300;
  }
  .section-title {
    @apply font-display bg-gradient-to-r from-primary via-secondary to-primary bg-clip-text text-2xl font-extrabold tracking-tight text-transparent sm:text-3xl;
  }
}

/* Subtle grid background and aurora accents */
.bg-grid {
  background-image:
    linear-gradient(to right, rgba(100, 116, 139, 0.08) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(100, 116, 139, 0.08) 1px, transparent 1px);
  background-size: 24px 24px;
}

.aurora {
  filter: blur(40px);
  opacity: 0.7;
}
